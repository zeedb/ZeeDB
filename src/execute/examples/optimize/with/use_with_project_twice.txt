with foo as (select *, current_date() as r from customer)
select f1.customer_id, f2.customer_id
from foo f1, foo f2
where f1.r = f2.r

Script
	CreateTempTable foo customer_id INT64 person_id INT64 store_id INT64 account_number INT64 modified_date TIMESTAMP r DATE
		Map foo.r:(CurrentDate) customer.customer_id customer.person_id customer.store_id customer.account_number customer.modified_date
			Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax)
				Map* customer.customer_id customer.person_id customer.store_id customer.account_number customer.modified_date $xmin $xmax
					SeqScan customer
	Map foo.customer_id foo.customer_id
		HashJoin Inner (Equal foo.r foo.r)
			Partition* foo.r
				GetTempTable foo
			Partition* foo.r
				GetTempTable foo