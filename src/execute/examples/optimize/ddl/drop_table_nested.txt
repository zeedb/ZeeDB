drop table nested.foo

Script
	Assign catalog_id 0
		TableFreeScan
	Assign catalog_id catalog.catalog_id
		NestedLoop Single
			Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal catalog.catalog_name "nested") (Equal catalog.parent_catalog_id @catalog_id)
				Map* catalog.parent_catalog_id catalog.catalog_id catalog.catalog_name $xmin $xmax
					SeqScan catalog
			TableFreeScan
	Assign table_id table.table_id
		NestedLoop Single
			Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal table.table_name "foo") (Equal table.catalog_id @catalog_id)
				Map* table.catalog_id table.table_id table.table_name $xmin $xmax
					SeqScan table
			TableFreeScan
	Delete table
		Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal table.table_id @table_id)
			Map* table.table_id $xmin $xmax $tid
				SeqScan table
	Call drop_table @table_id
		TableFreeScan