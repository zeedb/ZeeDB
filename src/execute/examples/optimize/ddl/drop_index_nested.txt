drop index nested.foo_index

Script
	Assign catalog_id 0
		TableFreeScan
	Assign catalog_id catalog.catalog_id
		NestedLoop Single
			Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal catalog.catalog_name "nested") (Equal catalog.parent_catalog_id @catalog_id)
				Map* catalog.parent_catalog_id catalog.catalog_id catalog.catalog_name $xmin $xmax
					SeqScan catalog
			TableFreeScan
	Assign index_id index.index_id
		NestedLoop Single
			Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal index.index_name "foo_index") (Equal index.catalog_id @catalog_id)
				Map* index.catalog_id index.index_id index.index_name $xmin $xmax
					SeqScan index
			TableFreeScan
	Delete index
		Filter* (LessOrEqual $xmin (Xid)) (Less (Xid) $xmax) (Equal index.index_id @index_id)
			Map* index.index_id $xmin $xmax $tid
				SeqScan index
	Call drop_index @index_id
		TableFreeScan