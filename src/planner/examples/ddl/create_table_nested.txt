create table nested.foo (person_id int64 primary key, store_id int64)

Script
	Assign catalog_id 1
		TableFreeScan
	Assign catalog_id catalog.catalog_id
		NestedLoop Single
			Filter* (LessOrEqual catalog.$xmin (Xid)) (Less (Xid) catalog.$xmax) (Equal catalog.catalog_name "nested") (Equal catalog.parent_catalog_id @catalog_id)
				Map* catalog.parent_catalog_id catalog.catalog_id catalog.catalog_name catalog.$xmin catalog.$xmax
					SeqScan catalog
			TableFreeScan
	Assign table_sequence_id sequence.sequence_id
		NestedLoop Single
			Filter* (LessOrEqual sequence.$xmin (Xid)) (Less (Xid) sequence.$xmax) (Equal sequence.sequence_name "table")
				Map* sequence.sequence_id sequence.sequence_name sequence.$xmin sequence.$xmax
					SeqScan sequence
			TableFreeScan
	Assign next_table_id (NextVal @table_sequence_id)
		TableFreeScan
	Insert table
		Values table.catalog_id table.table_id table.table_name [@catalog_id @next_table_id "foo"]
			TableFreeScan
	Insert column
		Values column.table_id column.column_id column.column_name column.column_type [@next_table_id 0 "person_id" "INT64"]
			TableFreeScan
	Insert column
		Values column.table_id column.column_id column.column_name column.column_type [@next_table_id 1 "store_id" "INT64"]
			TableFreeScan
	Call create_table @next_table_id
		TableFreeScan