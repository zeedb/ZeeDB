create index nested.foo_index on person (person_id)

Script
	Assign index_catalog_id 1
		TableFreeScan
	Assign index_catalog_id catalog.catalog_id
		NestedLoop Single
			Filter* (LessOrEqual catalog.$xmin (Xid)) (Less (Xid) catalog.$xmax) (Equal catalog.catalog_name "nested") (Equal catalog.parent_catalog_id @index_catalog_id)
				Map* catalog.parent_catalog_id catalog.catalog_id catalog.catalog_name catalog.$xmin catalog.$xmax
					SeqScan catalog
			TableFreeScan
	Assign table_catalog_id 1
		TableFreeScan
	Assign index_sequence_id sequence.sequence_id
		NestedLoop Single
			Filter* (LessOrEqual sequence.$xmin (Xid)) (Less (Xid) sequence.$xmax) (Equal sequence.sequence_name "index")
				Map* sequence.sequence_id sequence.sequence_name sequence.$xmin sequence.$xmax
					SeqScan sequence
			TableFreeScan
	Assign table_id table.table_id
		NestedLoop Single
			Filter* (LessOrEqual table.$xmin (Xid)) (Less (Xid) table.$xmax) (Equal table.catalog_id @table_catalog_id) (Equal table.table_name "person")
				Map* table.catalog_id table.table_id table.table_name table.$xmin table.$xmax
					SeqScan table
			TableFreeScan
	Assign next_index_id (NextVal @index_sequence_id)
		TableFreeScan
	Insert index
		Values index.catalog_id index.index_id index.table_id index.index_name [@index_catalog_id @next_index_id @table_id "foo_index"]
			TableFreeScan
	Assign column_id column.column_id
		NestedLoop Single
			Filter* (LessOrEqual column.$xmin (Xid)) (Less (Xid) column.$xmax) (Equal column.table_id @table_id) (Equal column.column_name "person_id")
				Map* column.table_id column.column_id column.column_name column.$xmin column.$xmax
					SeqScan column
			TableFreeScan
	Insert index_column
		Values index_column.index_id index_column.column_id index_column.index_order [@next_index_id @column_id 0]
			TableFreeScan
	Call create_index @next_index_id
		TableFreeScan